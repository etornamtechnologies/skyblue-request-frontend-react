(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[26],{1685:function(e,t,n){"use strict";n.r(t),n.d(t,"REQUEST_ITEMS",(function(){return J}));var c=n(4),i=n(0),a=n(511),s=n(2),r=n.n(s),o=n(84),d=n(27),l=n(150),u=n(34),j=n(26),O=n(42),p=n(57),b=n(519),E=n(67),m=n(1204),R=n(1205),x=n(566),h=n(1671),I=n(690),y=n(816),N=n(683),f=n(18),_=function(e){var t=e.selected_petty_cash_requests,n=e.setSelectedPettyCashRequests,c=(e.fetchPettyCashRequests,e.fetching_petty_cash_requests,e.petty_cash_requests,e.updatePettyCashRequest,e.updating_request,e.update_request_success,e.resetPettyCashRequest),i=r.a.useState(!1),s=Object(a.a)(i,2),o=s[0],d=s[1];return r.a.useEffect((function(){c()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.a,{style:{padding:5},children:Object(f.jsx)(R.a,{span:24,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:Object(f.jsx)(x.a,{type:"primary",style:{marginRight:5},disabled:t.length<1,children:"Approve"})})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{size:"small",columns:[{title:"Description",dataIndex:"name",key:"name"},{title:"Reason",dataIndex:"reason",key:"reason"},{title:"purpose",dataIndex:"purpose",key:"purpose"},{title:"Date",dataIndex:"createdAt",key:"createdAt"}],dataSource:J,rowKey:"id",pagination:{pageSize:20},rowSelection:{onChange:function(e,t){console.log("selected row",t),n(t)},selectedRowKeys:(t||[]).map((function(e){return e.id}))}})})}),Object(f.jsxs)(I.a,{forceRender:!0,visible:o,title:"Confirm Approve Requests",placement:"right",width:1e3,maskClosable:!1,onClose:function(){n([]),d(!1)},children:[Object(f.jsx)(m.a,{style:{marginBottom:10},children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsxs)(x.a,{type:"primary",style:{float:"right"},onClick:function(){},children:[Object(f.jsx)(N.a,{})," SUBMIT"]})})}),Object(f.jsx)(y.a,{}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{columns:[{title:"Description",dataIndex:"name",key:"name"},{title:"Reason",dataIndex:"reason",key:"reason"},{title:"purpose",dataIndex:"purpose",key:"purpose"},{title:"Date",dataIndex:"createdAt",key:"createdAt"}],dataSource:t,rowKey:"id",size:"small",pagination:!1})})})]})]})},v=n(1661),T=n(693),C=n(1191),A=n(1654),g=n(1688),P=n(665),D=n(676),M=n(565),S=n(818),U=n(30),k=n(517),L=n(19),q=function(e){return[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT",dataIndex:"endorsement",key:"endorsement"},{title:"ACTIONS",dataIndex:"actions",key:"actions",align:"right",render:function(t,n){return Object(f.jsx)(v.a,{onClick:function(){return e.viewDetails(n)}})}}]},G=function(e){return[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT STATUS",dataIndex:"endorsement",key:"endorsement"},{title:"COMMENT",dataIndex:"comment",key:"comment",render:function(t,n){return Object(f.jsx)(A.a,{type:"text",defaultValue:t,onChange:function(t){return e.onComment(t,n)}})}}]},F=function(e){console.log("my props",e);var t=e.selected_petty_cash_requests,n=e.setSelectedPettyCashRequests,c=e.resetPettyCashRequest,i=e.fetchPettyCashRequests,o=e.fetching_petty_cash_requests,d=e.petty_cash_requests,l=e.updateBulkPettyCashRequest,u=e.createComment,j=(e.submitting_petty_cash,e.submitting_comment),O=e.submit_comment_success,p=e.petty_cash_submitting,b=e.petty_cash_submit_success,E=Object(s.useState)(!1),_=Object(a.a)(E,2),v=_[0],A=_[1],F=Object(s.useState)(!1),H=Object(a.a)(F,2),w=H[0],Y=H[1],Q=Object(s.useState)(L.e.HOD_ENDORSE),V=Object(a.a)(Q,2),B=V[0],W=V[1],z=Object(s.useState)(null),K=Object(a.a)(z,2),J=K[0],X=K[1],Z=Object(s.useState)(!1),$=Object(a.a)(Z,2),ee=$[0],te=$[1];return r.a.useEffect((function(){console.log("lets fetch petty cash pending endorse"),c(),e.fetchPettyCashRequests({requestType:L.b.HOD_PENDING_ENDORSEMENT_REQUESTS})}),[]),Object(s.useEffect)((function(){console.log("Yeah petty cash update success-----------",b),console.log("Yeah petty cash updating-----------",p),!p&&b&&(A(!1),n([]),e.fetchPettyCashRequests({requestType:L.b.HOD_PENDING_ENDORSEMENT_REQUESTS}))}),[p,b]),Object(s.useEffect)((function(){!j&&O&&(A(!1),n([]),e.fetchPettyCashRequests({requestType:L.b.HOD_PENDING_ENDORSEMENT_REQUESTS}))}),[j,O]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g.a,{size:"small",title:Object(f.jsx)(m.a,{children:Object(f.jsxs)(R.a,{span:24,children:[Object(f.jsx)("span",{style:{marginRight:5},children:"PETTY CASH AWAITING ENDORSEMENT"}),Object(f.jsx)(T.a,{spin:o,onClick:function(){i({requestType:L.b.HOD_PENDING_ENDORSEMENT_REQUESTS})}})]})}),extra:[Object(f.jsx)(m.a,{style:{marginBottom:10},children:Object(f.jsxs)(R.a,{span:24,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:[Object(f.jsxs)(x.a,{style:{marginRight:5},disabled:t.length<1,onClick:function(){W(L.e.HOD_CANCEL),A(!0)},children:[Object(f.jsx)(C.a,{}),"CANCEL"]}),Object(f.jsxs)(x.a,{disabled:t.length<1,type:"primary",style:{marginRight:5},onClick:function(){W(L.e.HOD_ENDORSE),A(!0)},children:[Object(f.jsx)(N.a,{}),"ENDORSE"]})]})},"extras-first")],children:Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{loading:o,size:"small",columns:q({viewDetails:function(e){X(e),Y(!0)},onComment:function(t){e.resetComment(),e.fetchComments(null===t||void 0===t?void 0:t.id,k.b.PETTY_CASH),X(t),te(!0)}}),dataSource:d,rowKey:"id",bordered:!0,pagination:{pageSize:20},rowSelection:{onChange:function(e,t){console.log("selected row",t),n(t.map((function(e){return Object.assign({},e)})))},selectedRowKeys:null===t||void 0===t?void 0:t.map((function(e){return e.id}))}})})})}),Object(f.jsxs)(I.a,{forceRender:!0,visible:v,title:"".concat(B," REQUESTS"),placement:"right",width:1e3,maskClosable:!1,onClose:function(){n([]),A(!1)},children:[Object(f.jsx)(m.a,{style:{marginBottom:10},children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsxs)(x.a,{type:"primary",style:{float:"right"},onClick:function(){if(console.log("action",B),B===L.e.HOD_COMMENT){var e={comments:t.map((function(e){return{procurementTypeId:e.id,comment:{description:(null===e||void 0===e?void 0:e.comment)||"",process:"HOD_REQUEST_ENDORSEMENT"}}})),procurementType:"PETTY_CASH"};console.log("create comment payload",e),u("PETTY_CASH",e)}else if(B===L.e.HOD_CANCEL){var n=t.filter((function(e){return e.comment})).map((function(e){return{procurementTypeId:e.id,comment:{description:(null===e||void 0===e?void 0:e.comment)||"",process:"HOD_REQUEST_ENDORSEMENT"},cancelled:!0}}));u("PETTY_CASH",{comments:n})}else l({statusChange:"ENDORSE",items:t})},loading:j||p,children:[Object(f.jsx)(N.a,{})," SUBMIT"]})})}),Object(f.jsx)(y.a,{}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{columns:B===L.e.HOD_ENDORSE?[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT STATUS",dataIndex:"endorsement",key:"endorsement"}]:G({onComment:function(e,c){console.log("row",c,"value",e.target.value);var i=t.map((function(t){var n,i=t;i.id===c.id&&(i.comment=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value);return i}));n(i)}}),dataSource:t,size:"small",rowKey:"id",bordered:!0,pagination:!1})})})]}),Object(f.jsxs)(I.a,{forceRender:!0,visible:w,title:"Supporting Document",placement:"right",width:1e3,maskClosable:!1,onClose:function(){X(null),Y(!1)},children:[Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsxs)(P.b,{children:[Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Requested On",description:Object(U.c)(null===J||void 0===J?void 0:J.createdDate)})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"REFERENCE",description:null===J||void 0===J?void 0:J.pettyCashRef})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Description",description:null===J||void 0===J?void 0:J.name})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Purpose",description:null===J||void 0===J?void 0:J.purpose})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Quantity",description:null===J||void 0===J?void 0:J.quantity})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Unit Price",description:Object(U.a)(null===J||void 0===J?void 0:J.amount)})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Endorsement Status (BY HOD)",description:null===J||void 0===J?void 0:J.endorsement})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Approval Status (By GM)",description:null===J||void 0===J?void 0:J.approval})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Status",description:null===J||void 0===J?void 0:J.status})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Payment Status",description:(null===J||void 0===J?void 0:J.paid)?"PAID":"PENDING"})})]})})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24})})]}),Object(f.jsx)(M.a,{visible:ee,title:"PAYMENT DRAFT DETAILS",onClose:function(){te(!1),X(null)},children:Object(f.jsx)(D.a,{loading:e.comment_loading,itemDescription:Object(f.jsx)(S.a,{pettyCash:J}),comments:e.comments,newComment:e.new_comment,submitting:e.submitting_comment,onCommentChange:function(t){e.setNewComment(t)},onSubmit:function(t){var n={description:t,process:k.a.REVIEW_PETTY_CASH_HOD};e.createComment(k.b.PETTY_CASH,null===J||void 0===J?void 0:J.id,n)}})})]})},H=n(930),w=n(149),Y=n(744),Q=n(584),V=function(e){return[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT",dataIndex:"endorsement",key:"endorsement"},{title:"ACTIONS",dataIndex:"actions",key:"actions",align:"right",render:function(t,n){return Object(f.jsxs)(m.a,{children:[Object(f.jsx)(R.a,{span:8,children:Object(f.jsx)(Q.a,{title:"COMMENT",children:Object(f.jsx)(Y.a,{onClick:function(){return e.onComment(n)}})})}),Object(f.jsx)(R.a,{span:8,children:Object(f.jsx)(Q.a,{title:"INFO",children:Object(f.jsx)(v.a,{onClick:function(){return e.viewDetails(n)}})})})]})}}]},B=function(e){return[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT STATUS",dataIndex:"endorsement",key:"endorsement"},{title:"COMMENT",dataIndex:"comment",key:"comment",render:function(t,n){return Object(f.jsx)(A.a,{type:"text",defaultValue:t,onChange:function(t){return e.onComment(t,n)}})}}]},W=function(e){var t=e.selected_petty_cash_requests,n=e.setSelectedPettyCashRequests,c=e.resetPettyCashRequest,i=(e.fetchPettyCashRequests,e.fetching_petty_cash_requests),o=e.petty_cash_requests,d=e.updateBulkPettyCashRequest,l=e.createComment,u=(e.submitting_petty_cash,e.submit_petty_cash_success,e.submitting_comment),j=e.submit_comment_success,O=e.petty_cash_submitting,p=e.petty_cash_submit_success,b=Object(s.useState)(!1),E=Object(a.a)(b,2),_=E[0],v=E[1],A=Object(s.useState)(!1),q=Object(a.a)(A,2),G=q[0],F=q[1],H=Object(s.useState)(L.e.HOD_ENDORSE),w=Object(a.a)(H,2),Y=w[0],Q=w[1],W=Object(s.useState)(null),z=Object(a.a)(W,2),K=z[0],J=z[1],X=Object(s.useState)(!1),Z=Object(a.a)(X,2),$=Z[0],ee=Z[1],te=function(){e.fetchPettyCashRequests({requestType:L.b.GM_PENDING_APPROVAL})};return r.a.useEffect((function(){console.log("lets fetch petty cash pending endorse"),c(),te()}),[]),Object(s.useEffect)((function(){!O&&p&&(v(!1),n([]),te())}),[O,p]),Object(s.useEffect)((function(){!u&&j&&(v(!1),n([]),e.fetchPettyCashRequests({requestType:L.b.HOD_PENDING_ENDORSEMENT_REQUESTS}))}),[u,j]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g.a,{size:"small",title:Object(f.jsx)(m.a,{children:Object(f.jsxs)(R.a,{span:24,children:[Object(f.jsx)("span",{style:{marginRight:5},children:"PETTY CASH AWAITING APPROVAL"}),Object(f.jsx)(T.a,{spin:i,onClick:function(){return te()}})]})}),extra:[Object(f.jsx)(m.a,{style:{marginBottom:10},children:Object(f.jsxs)(R.a,{span:24,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"center"},children:[Object(f.jsxs)(x.a,{style:{marginRight:5},disabled:t.length<1,onClick:function(){Q(L.e.GM_COMMENT),v(!0)},children:[Object(f.jsx)(C.a,{}),"CANCEL"]}),Object(f.jsxs)(x.a,{disabled:t.length<1,type:"primary",style:{marginRight:5},onClick:function(){Q(L.e.GM_APPROVE),v(!0)},children:[Object(f.jsx)(N.a,{}),"APPROVE"]})]})},"extras-first")],children:Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{loading:i,size:"small",columns:V({viewDetails:function(e){J(e),F(!0)},onComment:function(t){e.resetComment(),e.fetchComments(null===t||void 0===t?void 0:t.id,k.b.PETTY_CASH),J(t),ee(!0)}}),dataSource:o,rowKey:"id",bordered:!0,pagination:{pageSize:20},rowSelection:{onChange:function(e,t){console.log("selected row",t),n(t.map((function(e){return Object.assign({},e)})))},selectedRowKeys:null===t||void 0===t?void 0:t.map((function(e){return e.id}))}})})})}),Object(f.jsxs)(I.a,{forceRender:!0,visible:_,title:"".concat(Y," REQUESTS"),placement:"right",width:1e3,maskClosable:!1,onClose:function(){n([]),v(!1)},children:[Object(f.jsx)(m.a,{style:{marginBottom:10},children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsxs)(x.a,{type:"primary",style:{float:"right"},onClick:function(){if(console.log("action",Y),Y===L.e.GM_COMMENT){var e={comments:t.map((function(e){return{procurementTypeId:e.id,comment:{description:(null===e||void 0===e?void 0:e.comment)||"",process:"REQUEST_APPROVAL_GM"}}})),procurementType:"PETTY_CASH"};console.log("create comment payload",e),l("PETTY_CASH",e)}else if(Y===L.e.GM_CANCEL){var n=t.filter((function(e){return e.comment})).map((function(e){return{procurementTypeId:e.id,comment:{description:(null===e||void 0===e?void 0:e.comment)||"",process:"REQUEST_APPROVAL_GM"},cancelled:!0}}));l("PETTY_CASH",{comments:n})}else d({statusChange:"APPROVE",items:t})},loading:u||O,children:[Object(f.jsx)(N.a,{})," SUBMIT"]})})}),Object(f.jsx)(y.a,{}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsx)(h.a,{columns:Y===L.e.GM_APPROVE?[{title:"REFERENCE",dataIndex:"pettyCashRef",key:"pettyCashRef"},{title:"DESCRIPTION",dataIndex:"name",key:"name"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"amount",key:"amount",render:function(e){return"".concat(k.c," ").concat(e)}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(U.c)(e)}},{title:"ENDORSEMENT STATUS",dataIndex:"endorsement",key:"endorsement"}]:B({onComment:function(e,c){console.log("row",c,"value",e.target.value);var i=t.map((function(t){var n,i=t;i.id===c.id&&(i.comment=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value);return i}));n(i)}}),dataSource:t,size:"small",rowKey:"id",bordered:!0,pagination:!1})})})]}),Object(f.jsxs)(I.a,{forceRender:!0,visible:G,title:"Supporting Document",placement:"right",width:1e3,maskClosable:!1,onClose:function(){J(null),F(!1)},children:[Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24,children:Object(f.jsxs)(P.b,{children:[Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Requested On",description:Object(U.c)(null===K||void 0===K?void 0:K.createdDate)})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Reference",description:null===K||void 0===K?void 0:K.pettyCashRef})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Description",description:null===K||void 0===K?void 0:K.name})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Purpose",description:null===K||void 0===K?void 0:K.purpose})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Quantity",description:null===K||void 0===K?void 0:K.quantity})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Unit Price",description:Object(U.a)(null===K||void 0===K?void 0:K.amount)})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Endorsement Status (BY HOD)",description:null===K||void 0===K?void 0:K.endorsement})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Approval Status (By GM)",description:null===K||void 0===K?void 0:K.approval})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Status",description:null===K||void 0===K?void 0:K.status})}),Object(f.jsx)(P.b.Item,{children:Object(f.jsx)(P.b.Item.Meta,{title:"Payment Status",description:(null===K||void 0===K?void 0:K.paid)?"PAID":"PENDING"})})]})})}),Object(f.jsx)(m.a,{children:Object(f.jsx)(R.a,{span:24})})]}),Object(f.jsx)(M.a,{visible:$,title:"PAYMENT DRAFT DETAILS",onClose:function(){ee(!1),J(null)},children:Object(f.jsx)(D.a,{loading:e.comment_loading,itemDescription:Object(f.jsx)(S.a,{pettyCash:K}),comments:e.comments,newComment:e.new_comment,submitting:e.submitting_comment,onCommentChange:function(t){e.setNewComment(t)},onSubmit:function(t){var n={description:t,process:k.a.REVIEW_PETTY_CASH_GM};e.createComment(k.b.PETTY_CASH,null===K||void 0===K?void 0:K.id,n)}})})]})},z=n(73),K=n(530),J=[{id:1,name:"Coca cola",reason:"REPLACE",purpose:"refreshment",createdAt:"2021-12-18 14:00:50",status:"PENDING",quantity:10},{id:2,name:"Laptop charger",reason:"REPLACE",purpose:"Laptop not charging",createdAt:"2021-12-24 16:30:50",status:"PENDING",quantity:1}];t.default=Object(o.b)((function(e){var t,n;return n={departments:e.department.departments,fetching_departments:e.department.loading,currentUser:e.auth.user,petty_cash_requests:e.petty_cash.requests,fetching_petty_cash_requests:e.petty_cash.loading,petty_cash_submit_success:e.petty_cash.submit_success,petty_cash_submitting:e.petty_cash.submitting,suppliers:e.supplier.suppliers,selected_petty_cash_requests:e.petty_cash.selected_requests,authUser:e.auth.user,submitting_comment:e.comment.submitting,submit_comment_success:e.comment.submit_success,notifications:(null===e||void 0===e||null===(t=e.notification)||void 0===t?void 0:t.notifications)||{},comments:e.comment.comments,comment_loading:e.comment.loading},Object(c.a)(n,"submitting_comment",e.comment.submitting),Object(c.a)(n,"submit_comment_success",e.comment.submit_success),Object(c.a)(n,"new_comment",e.comment.new_comment),n}),(function(e){return{fetchDepartments:function(t){e(u.a.fetchDepartments(t))},fetchPettyCashRequests:function(t){e(j.a.fetchPettyCashRequests(t))},updatePettyCashRequest:function(t){e(j.a.updatePettyCashRequest(t))},updateBulkPettyCashRequest:function(t){e(j.a.updateBulkPettyCashRequest(t))},resetRequests:function(){e(j.a.resetRequest())},fetchSuppliers:function(t){e(O.a.fetchSuppliers(t))},setSelectedPettyCashRequests:function(t){e(j.a.setSelectedPettyCashRequests(t))},resetPettyCashRequest:function(){e(j.a.resetPettyCashRequest())},createComment:function(t,n,c){e(p.a.createComment(t,n,c))},setNewComment:function(t){e(p.a.setNewComment(t))},resetComment:function(){e(p.a.resetComment())},fetchComments:function(t,n){e(p.a.fetchComments(t,n))}}}))((function(e){console.log("petty cash index");var t=e.authUser,n=e.notifications,c=r.a.useState([]),s=Object(a.a)(c,2),o=s[0],u=s[1],j=Object(d.j)().path,O=Object(d.h)();r.a.useEffect((function(){var e=O.pathname;e.includes("/petty-cash/hod-pending-endorse")?u("hod-pending-endorse"):e.includes("/petty-cash/hod-pending-review")?u("hod-pending-review"):e.includes("/petty-cash/gm-approve-list")&&u("/petty-cash/gm-approve-list")}),[o]);var p=function(){switch(t.role){case w.c.ROLE_HOD:return Object(f.jsx)(d.a,{to:"/app/petty-cash/hod-pending-endorse"});case w.c.ROLE_GENERAL_MANAGER:return Object(f.jsx)(d.a,{to:"/app/petty-cash/gm-approve-list"});default:return Object(f.jsx)(d.a,{to:"/app"})}};return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(b.a,{title:"Petty cash requests",subNav:Object(f.jsxs)(H.a,{selectedKeys:[o],mode:"horizontal",onClick:function(e){u(e)},forceSubMenuRender:!0,children:[Object(z.d)(t.role,[w.c.ROLE_HOD])&&Object(f.jsx)(H.a.Item,{children:Object(f.jsx)(l.b,{to:"/app/petty-cash/hod-pending-endorse",children:n.pettyCashPendingEndorsement?Object(f.jsx)(K.a,{count:null===n||void 0===n?void 0:n.pettyCashPendingEndorsement,children:Object(f.jsx)("span",{children:"AWAITING ENDORSEMENT"})}):Object(f.jsx)("span",{children:"AWAITING ENDORSEMENT"})})},"hod-pending-endorse"),Object(z.d)(t.role,[w.c.ROLE_GENERAL_MANAGER])&&Object(f.jsx)(H.a.Item,{children:Object(f.jsx)(l.b,{to:"/app/petty-cash/gm-approve-list",children:n.pettyCashPendingApproval?Object(f.jsx)(K.a,{count:null===n||void 0===n?void 0:n.pettyCashPendingApproval,children:Object(f.jsx)("span",{children:"AWAITING APPROVAL"})}):Object(f.jsx)("span",{children:"AWAITING APPROVAL"})})},"/petty-cash/gm-approve-list")]}),children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(E.a,Object(i.a)(Object(i.a)({exact:!0,path:"".concat(j)},e),{},{children:Object(f.jsx)(p,{})})),Object(f.jsx)(E.a,Object(i.a)({path:"".concat(j,"/hod-pending-endorse"),component:F},e)),Object(f.jsx)(E.a,Object(i.a)({exact:!0,path:"".concat(j,"/hod-pending-review"),component:_},e)),Object(f.jsx)(E.a,Object(i.a)({path:"".concat(j,"/gm-approve-list"),component:W},e))]})})})}))},517:function(e,t,n){"use strict";n.d(t,"n",(function(){return u})),n.d(t,"j",(function(){return j})),n.d(t,"o",(function(){return O})),n.d(t,"m",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"p",(function(){return E})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return R})),n.d(t,"g",(function(){return x})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return I})),n.d(t,"l",(function(){return y})),n.d(t,"k",(function(){return N})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return v}));var c=n(1693),i=n(1694),a=n(730),s=n(1683),r=n(1671),o=n(30),d=n(149),l=n(18),u=[{title:"REF",dataIndex:"requestItemRef",key:"requestItemRef",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{children:e}),"COMMENT"===(null===t||void 0===t?void 0:t.status)&&Object(l.jsx)(c.a,{style:{marginLeft:5},twoToneColor:"#eb2f96"})]})}},{title:"DESCRIPTION",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"REASON",dataIndex:"reason",key:"reason"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(o.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(o.c)(e)}}],j=[{title:"REF",dataIndex:"requestItemRef",key:"requestItemRef",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{children:e}),"COMMENT"===(null===t||void 0===t?void 0:t.status)&&Object(l.jsx)(c.a,{style:{marginLeft:5},twoToneColor:"#eb2f96"})]})}},{title:"DESCRIPTION",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"REASON",dataIndex:"reason",key:"reason"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"DEPARTMENT",dataIndex:"userDepartment",key:"userDepartment",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.userDepartment)||void 0===n?void 0:n.name}},{title:"UNIT PRICE",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(o.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(o.c)(e)}},{title:"ENDORSEMENT",dataIndex:"endorsement",key:"endorsement"}],O=[{title:"REF",dataIndex:"requestItemRef",key:"requestItemRef",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{children:e}),"COMMENT"===(null===t||void 0===t?void 0:t.status)&&Object(l.jsx)(c.a,{style:{marginLeft:5},twoToneColor:"#eb2f96"})]})}},{title:"DESCRIPTION",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"REASON",dataIndex:"reason",key:"reason"},{title:"PURPOSE",dataIndex:"purpose",key:"purpose"},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"DEPARTMENT",dataIndex:"userDepartment",key:"userDepartment",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.userDepartment)||void 0===n?void 0:n.name}},{title:"UNIT PRICE",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(o.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}},{title:"REQUESTED ON",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(o.c)(e)}},{title:"ENDORSEMENT",dataIndex:"endorsement",key:"endorsement"},{title:"APPROVAL",dataIndex:"approval",key:"approval"}],p=[{title:"REFERENCE",dataIndex:"requestItemRef",key:"requestItemRef"},{title:"NAME",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"QUANTITY",dataIndex:"quantity",key:"quantity"},{title:"UNIT PRICE",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(o.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}}],b=[{title:"ID",dataIndex:"id",key:"id"},{title:"NAME",dataIndex:"name",key:"name"},{title:"DESCRIPTION",dataIndex:"description",key:"description"}],E=[{title:"NAME",dataIndex:"name",key:"name",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[t.registered&&Object(l.jsx)("span",{style:{marginRight:5},children:Object(l.jsx)(i.a,{})}),Object(l.jsx)("span",{children:e})]})}},{title:"EMAIL",dataIndex:"email",key:"email"},{title:"PHONE NUMBER",dataIndex:"phone_no",key:"phone_no"},{title:"REGISTRATION STATUS",dataSource:"registered",key:"registered",render:function(e,t){return t.registered?"Registered":"Not Registered"}},{title:"LOCATION",dataIndex:"location",key:"location"},{title:"BANK",dataIndex:"bank",key:"bank"},{title:"ACCOUNT NUMBER",dataIndex:"accountNumber",key:"accountNumber"},{title:"DESCRIPTION",dataIndex:"description",key:"description"}],m=[{title:"NAME",dataIndex:"fullName",key:"name"},{title:"EMAIL",dataIndex:"email",key:"email"},{title:"PHONE",dataIndex:"phoneNo",key:"phoneNo"},{title:"DEPARTMENT",dataIndex:"department",key:"department",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"ROLE",dataIndex:"roles",key:"roles",render:function(e){var t,n,c=null===(t=(e||[])[0])||void 0===t?void 0:t.name;return null===c||void 0===c||null===(n=c.replaceAll("_"," "))||void 0===n?void 0:n.replace("ROLE","")}},{title:"STATUS",dataIndex:"enabled",key:"department",render:function(e){return e?Object(l.jsx)("span",{style:{color:"green"},children:"Activated"}):Object(l.jsx)("span",{style:{color:"red"},children:"Deactivated"})}}],R=[{title:"Reference",dataIndex:"floatRef",key:"floatRef"},{title:"Description",dataIndex:"itemDescription",key:"itemDescription"},{title:"Unit Price",dataIndex:"estimatedUnitPrice",key:"estimatedUnitPrice",render:function(e){return Object(o.a)(e)}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Total Amount",dataIndex:"amountTotal",key:"amountTotal",render:function(e,t){return Object(o.a)((null===t||void 0===t?void 0:t.estimatedUnitPrice)*(null===t||void 0===t?void 0:t.quantity))}},{title:"Requested By",dataIndex:"createdBy",key:"createdBy",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.createdBy)||void 0===n?void 0:n.fullName}},{title:"Requested On",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(o.c)(e)}},{title:"Approval Status",dataIndex:"approval",key:"approval"}],x={MY_REQUEST:"MY-REQUEST",HOD_PENDING_ENDORSEMENT_REQUESTS:"HOD-PENDING-ENDORSEMENT-REQUESTS",HOD_PENDING_REQUEST:"HOD-PENDING-REQUEST",GM_PENDING_REQUEST:"GM_PENDING_REQUEST",PROCUREMENT_PENDING_SUPPLIER_REQUEST:"PROCUREMENT-PENDING_SUPPLIER_REQUEST",PROCUREMENT_PENDING_PENDING_UNIT_PRICE_REQUEST:"PROCUREMENT-PENDING-UNIT-PRICE-REQUEST"},h={dashboardRoles:[d.c.ROLE_ADMIN,d.c.ROLE_GENERAL_MANAGER,d.c.ROLE_PROCUREMENT_OFFICER,d.c.ROLE_ACCOUNT_OFFICER],createUserRoles:[d.c.ROLE_ADMIN],listUserRoles:[d.c.ROLE_ADMIN],editUserRoles:[d.c.ROLE_ADMIN],deleteUserRoles:[d.c.ROLE_ADMIN],listDepartmentsRoles:[d.c.ROLE_ADMIN],editDepartmentRoles:[d.c.ROLE_ADMIN],createDepartmentRoles:[d.c.ROLE_ADMIN],deleteDepartmentRoles:[d.c.ROLE_ADMIN],listSupplierRoles:[d.c.ROLE_ADMIN,d.c.ROLE_PROCUREMENT_OFFICER,d.c.ROLE_GENERAL_MANAGER],editSupplierRoles:[d.c.ROLE_ADMIN,d.c.ROLE_PROCUREMENT_OFFICER],createSupplierRoles:[d.c.ROLE_ADMIN,d.c.ROLE_PROCUREMENT_OFFICER],deleteSupplierRoles:[d.c.ROLE_ADMIN],ROLE_HODEndorseRoles:[d.c.ROLE_ADMIN,d.c.ROLE_HOD],generalManagerApproveRoles:[d.c.ROLE_ADMIN,d.c.ROLE_GENERAL_MANAGER],procurementOfficerApproveRoles:[d.c.ROLE_ADMIN,d.c.ROLE_PROCUREMENT_OFFICER],paymentListRoles:[d.c.ROLE_ADMIN,d.c.ROLE_GENERAL_MANAGER],createPaymentRoles:[d.c.ROLE_ADMIN,d.c.ROLE_PROCUREMENT_OFFICER],listQuotationRoles:[d.c.ROLE_PROCUREMENT_OFFICER,d.c.ROLE_ADMIN,d.c.ROLE_GENERAL_MANAGER],requestMenu:[d.c.ROLE_GENERAL_MANAGER,d.c.ROLE_HOD],report:[d.c.ROLE_GENERAL_MANAGER,d.c.ROLE_AUDITOR,d.c.ROLE_ACCOUNT_OFFICER,d.c.ROLE_PROCUREMENT_OFFICER,d.c.ROLE_STORE_OFFICER]},I="GHS",y=5,N=1024*y*1024,f=function(e){var t=[{title:"Description",dataIndex:"name",key:"name"},{title:"Reason",dataIndex:"reason",key:"reason"},{title:"Qauntity",dataIndex:"quantity",key:"quantity"},{title:"Unit Price",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return"".concat(Object(o.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency))}},{title:"Request Date",dataIndex:"requestDate",key:"requestDate",render:function(e){return Object(o.c)(e)}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(l.jsxs)("span",{children:[Object(l.jsx)(s.a,{status:"PROCESSED"===e?"success":"error"}),e]})}}];return Object(l.jsx)(r.a,{columns:t,dataSource:e.requestItems,pagination:!1,rowKey:"id"})},_={HOD_REQUEST_ENDORSEMENT:"HOD_REQUEST_ENDORSEMENT",PRICE_DETAILS_PROCUREMENT:"PRICE_DETAILS_PROCUREMENT",PRICE_REVIEW_HOD:"PRICE_REVIEW_HOD",REQUEST_APPROVAL_GM:"REQUEST_APPROVAL_GM",LPO_PROCUREMENT:"LPO_PROCUREMENT",GRN_STORES:"GRN_STORES",REVIEW_GRN_HOD:"REVIEW_GRN_HOD",REVIEW_GRN_PROCUREMENT:"REVIEW_GRN_PROCUREMENT",REVIEW_AUDITOR_PAYMENT_DRAFT:"REVIEW_AUDITOR_PAYMENT_DRAFT",REVIEW_GRN_ACCOUNTS:"REVIEW_GRN_ACCOUNTS",REVIEW_PAYMENT_DRAFT_GM:"REVIEW_PAYMENT_DRAFT_GM",REVIEW_PAYMENT_DRAFT_FM:"REVIEW_PAYMENT_DRAFT_FM",REVIEW_PAYMENT_DRAFT_AUDITOR:"REVIEW_PAYMENT_DRAFT_AUDITOR",ACCOUNT_OFFICER_RESPONSE_TO_AUDITOR_COMMENT:"ACCOUNT_OFFICER_RESPONSE_TO_AUDITOR_COMMENT",REVIEW_PETTY_CASH_GM:"REVIEW_PETTY_CASH_GM",REVIEW_PETTY_CASH_HOD:"REVIEW_PETTY_CASH_HOD",REVIEW_FLOAT_GM:"REVIEW_FLOAT_GM",REVIEW_FLOAT_HOD:"REVIEW_FLOAT_HOD"},v={LPO:"LPO_COMMENT",FLOAT:"FLOAT_COMMENT",PETTY_CASH:"PETTY_CASH_COMMENT",GRN:"GRN_COMMENT",PAYMENT:"PAYMENT_COMMENT"}},519:function(e,t,n){"use strict";var c=n(0),i=n(84),a=n(511),s=n(2),r=n.n(s),o=n(1667),d=n(930),l=n(1204),u=n(1205),j=n(968),O=(n(539),n(73)),p=n(1695),b=n(1696),E=n(1697),m=n(1698),R=n(1699),x=n(1700),h=n(1701),I=n(1702),y=n(1703),N=n(1704),f=n(1705),_=n(1706),v=n(1707),T=n(1708),C=n(1709),A=n(1692),g=n(27),P=n(150),D=n(61),M=n(517),S=n(149),U=n.p+"static/media/logo512.3c1832d4.png",k=n(530),L=n(18),q=function(e){var t=r.a.useState(!1),n=Object(a.a)(t,2),c=n[0],i=n[1],q=o.a.Header,G=o.a.Sider,F=o.a.Content,H=o.a.Footer,w=r.a.useState("home"),Y=Object(a.a)(w,2),Q=Y[0],V=Y[1],B=Object(g.h)(),W=e.currentUser,z=e.notifications,K=e.fetchNotifications,J=(Object(g.j)().path,function(){i(!c)}),X=Object(L.jsx)(d.a,{onClick:function(){console.log("menu click")},children:Object(L.jsx)(d.a.Item,{icon:Object(L.jsx)(p.a,{}),onClick:function(){return O.c()},children:"Logout"},"1")});return Object(s.useEffect)((function(){K()}),[]),r.a.useEffect((function(){console.log("pathname",B.pathname);var e=B.pathname;e.includes("/app/my-requests")?V("my-requests"):e.includes("/app/dashboard")?V("dashboard"):e.includes("/app/departments")?V("department"):e.includes("/app/employees")?V("employee"):e.includes("/app/settings")?V("setting"):e.includes("/app/request-items")?V("request"):e.includes("/app/petty-cash")?V("petty-cash"):e.includes("/app/float")?V("float"):e.includes("/app/local-purchase-orders")?V("/app/local-purchase-orders"):e.includes("/app/procurement/create-quotation")?V("/app/procurement/create-quotation"):e.includes("/app/suppliers")?V("/app/suppliers"):e.includes("/app/quotations")?V("/app/quotations"):e.includes("/app/procurement/assign-suppliers")?V("assign-suppliers"):e.includes("/app/procurement/rfqs")?V("procurement/rfqs"):e.includes("/app/procurement/request-categories")?V("procurement/request-categories"):e.includes("/app/store")?V("/app/store"):e.includes("/app/grn")?V("/app/grn"):e.includes("/app/account/goods-receive-notes")?V("/app/account/goods-receive-notes"):e.includes("/app/account")?V("/app/account"):e.includes("/app/payments")?V("/app/payments"):e.includes("/app/reports")?V("/app/reports"):V("home")}),[Q]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(o.a,{className:"bs-layout",children:[Object(L.jsxs)(G,{trigger:null,collapsible:!0,collapsed:c,children:[Object(L.jsxs)("div",{style:{color:"#fff",padding:"10px 0px 10px 20px",marginBottom:10},children:[Object(L.jsx)("img",{width:"30",height:"40",src:U,alt:"company_logo"}),Object(L.jsx)("span",{children:"Blueskies"})]}),Object(L.jsxs)(d.a,{theme:"dark",style:{height:"100vh",overflowY:"auto"},mode:"inline",defaultSelectedKeys:["/app"],selectedKeys:[Q],forceSubMenuRender:!0,onClick:function(e){return V(e)},defaultOpenKeys:["procurement"],onChange:function(e){V(e)},children:[Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app",children:[Object(L.jsx)(b.a,{}),Object(L.jsx)("span",{children:"Home"})]})},"home"),O.d(W.role,M.i.dashboardRoles)&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/dashboard",children:[Object(L.jsx)(E.a,{}),Object(L.jsx)("span",{children:"Dashboard"})]})},"dashboard"),O.d(W.role,[S.c.ROLE_REGULAR])&&Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/my-requests",children:[Object(L.jsx)(m.a,{}),Object(L.jsx)("span",{children:"My Requests"})]})},"my-requests")}),O.d(W.role,[S.c.ROLE_HOD,S.c.ROLE_GENERAL_MANAGER,S.c.ROLE_ADMIN])&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/request-items",children:[Object(L.jsx)(R.a,{}),Object(L.jsx)("span",{children:"Item requests"}),(null===z||void 0===z?void 0:z.requestPendingEndorsementHOD)||z.requestPendingApprovalGM||z.requestEndorsedByHOD?Object(L.jsx)(k.a,{}):null]})},"request"),Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/petty-cash",children:[Object(L.jsx)(R.a,{}),Object(L.jsx)("span",{children:"Petty cash requests"}),(null===z||void 0===z?void 0:z.pettyCashPendingEndorsement)||(null===z||void 0===z?void 0:z.pettyCashPendingApprovalGM)?Object(L.jsx)(k.a,{}):null]})},"petty-cash")]}),O.d(W.role,[S.c.ROLE_HOD,S.c.ROLE_GENERAL_MANAGER,S.c.ROLE_AUDITOR])&&Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/float",children:[Object(L.jsx)(R.a,{}),Object(L.jsx)("span",{children:"Float requests"}),(null===z||void 0===z?void 0:z.floatPendingEndorsement)||(null===z||void 0===z?void 0:z.floatPendingApprovalGM)?Object(L.jsx)(k.a,{}):null]})},"float")}),O.d(W.role,[S.c.ROLE_CHIEF_ACCOUNT_OFFICER,S.c.ROLE_GENERAL_MANAGER,S.c.ROLE_ACCOUNT_OFFICER,S.c.ROLE_AUDITOR,S.c.ROLE_FINANCIAL_MANAGER])&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/payments",children:[Object(L.jsx)(x.a,{}),Object(L.jsx)("span",{children:"Payments"}),(null===z||void 0===z?void 0:z.paymentDraftPendingAuthorizationFM)||(null===z||void 0===z?void 0:z.grnAwaitingPaymentAdvice)||(null===z||void 0===z?void 0:z.grnReadyForPaymentAccount)||(null===z||void 0===z?void 0:z.paymentDraftPendingAuditorCheck)||(null===z||void 0===z?void 0:z.paymentDraftPendingApproval)?Object(L.jsx)(k.a,{}):null]})},"/app/payments"),O.d(W.role,[S.c.ROLE_HOD,S.c.ROLE_STORE_OFFICER,S.c.ROLE_PROCUREMENT_MANAGER])&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/grn",children:[Object(L.jsx)(h.a,{}),Object(L.jsx)("span",{children:"Goods Receive Note"}),z.grnPendingApprovalGM||(null===z||void 0===z?void 0:z.grnPendingApproval)||z.lpoWithoutGRN?Object(L.jsx)(k.a,{}):null]})},"/app/grn"),O.d(W.role,[S.c.ROLE_PROCUREMENT_OFFICER,S.c.ROLE_PROCUREMENT_MANAGER])&&Object(L.jsxs)(d.a.SubMenu,{icon:Object(L.jsx)(R.a,{}),title:"Procurement",children:[Object(L.jsx)(d.a.Item,{children:Object(L.jsx)(P.b,{to:"".concat(D.g,"/assign-suppliers"),children:z.assignSupplierProcurement?Object(L.jsx)(k.a,{count:z.assignSupplierProcurement,children:"Assign Supplier"}):Object(L.jsx)("span",{children:"Assign Supplier"})})},"assign-suppliers"),Object(L.jsx)(d.a.Item,{children:Object(L.jsx)(P.b,{to:"".concat(D.g,"/rfqs"),children:"RFQs"})},"procurement/rfqs"),Object(L.jsx)(d.a.Item,{children:Object(L.jsx)(P.b,{to:"".concat(D.g,"/request-categories"),children:"Request Categories"})},"procurement/request-categories")]},"procurement"),O.d(W.role,[S.c.ROLE_PROCUREMENT_OFFICER,S.c.ROLE_PROCUREMENT_MANAGER])&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/quotations",children:[Object(L.jsx)(I.a,{}),Object(L.jsx)("span",{children:"Quotations"})]})},"/app/quotations"),O.d(W.role,[S.c.ROLE_PROCUREMENT_OFFICER,S.c.ROLE_PROCUREMENT_MANAGER])&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/local-purchase-orders",children:[Object(L.jsx)(y.a,{}),Object(L.jsx)("span",{children:"Local Purchase Orders"}),(null===z||void 0===z?void 0:z.lpoDraftAwaitingApproval)?Object(L.jsx)(k.a,{}):null]})},"/app/local-purchase-orders"),O.d(W.role,M.i.listDepartmentsRoles)&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/departments",children:[Object(L.jsx)(N.a,{}),Object(L.jsx)("span",{children:"Departments"})]})},"department"),O.d(W.role,[S.c.ROLE_PROCUREMENT_OFFICER,S.c.ROLE_PROCUREMENT_MANAGER])&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/suppliers",children:[Object(L.jsx)(f.a,{}),Object(L.jsx)("span",{children:"Supplier Management"})]})},"/app/suppliers"),O.d(W.role,M.i.listUserRoles)&&Object(L.jsx)(d.a.Item,{children:Object(L.jsxs)(P.b,{to:"/app/employees",children:[Object(L.jsx)(f.a,{}),Object(L.jsx)("span",{children:"User Management"})]})},"employee"),Object(L.jsx)(d.a.Item,{icon:Object(L.jsx)(_.a,{}),children:Object(L.jsx)(P.b,{to:"/app/settings",children:Object(L.jsx)("span",{children:"Settings"})})},"setting"),O.d(W.role,M.i.report)&&Object(L.jsx)(d.a.Item,{icon:Object(L.jsx)(v.a,{}),children:Object(L.jsx)(P.b,{to:"/app/reports",children:Object(L.jsx)("span",{children:"Reports"})})},"/app/reports"),Object(L.jsx)(d.a.Item,{icon:Object(L.jsx)(p.a,{}),danger:!0,onClick:function(){O.c()},children:"Logout"},"11")]})]}),Object(L.jsxs)(o.a,{className:"bs-site-layout",children:[Object(L.jsx)(q,{className:"bs-site-layout-background",style:{padding:0},children:Object(L.jsxs)(l.a,{children:[Object(L.jsx)(u.a,{span:2,children:c?Object(L.jsx)(T.a,{className:"bs-trigger",onClick:J}):Object(L.jsx)(C.a,{onClick:J,className:"bs-trigger"})}),Object(L.jsx)(u.a,{span:14,children:e.title&&Object(L.jsx)("span",{style:{fontSize:20,fontWeight:"lighter",color:"#6e7273"},children:e.title})}),Object(L.jsx)(u.a,{span:8,children:Object(L.jsx)("div",{style:{float:"right",marginRight:10,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",height:"100%"},children:Object(L.jsx)(j.a.Button,{overlay:X,placement:"bottomLeft",icon:Object(L.jsx)(A.a,{}),children:W.fullName})})})]})}),Object(L.jsxs)(F,{className:"bs-site-layout-content",style:{minHeight:380},children:[e.subNav&&Object(L.jsx)(l.a,{className:"bs-sub-nav-header",children:Object(L.jsx)(u.a,{span:24,children:e.subNav})}),Object(L.jsx)(l.a,{children:Object(L.jsx)(u.a,{span:24,style:{padding:10},children:e.children})})]}),Object(L.jsx)(H,{style:{textAlign:"center"},children:"Blueskies Procurement System \xa9".concat((new Date).getFullYear()," Created by Tech-Bridge")})]})]})})},G=n(41);t.a=Object(i.b)((function(e){return{currentUser:e.auth.user,notifications:e.notification.notifications||{}}}),(function(e){return{fetchNotifications:function(){return e(G.a.fetchNotifications())}}}))((function(e){return Object(L.jsx)(q,Object(c.a)({},e))}))},530:function(e,t,n){"use strict";var c=n(1683),i=(n(2),n(18));t.a=function(e){var t=e.count,n=e.status,a=void 0===n?"processing":n,s=e.children;return Object(i.jsx)(c.a,{offset:"5px",count:t,status:a,children:s})}},539:function(e,t,n){},565:function(e,t,n){"use strict";var c=n(690),i=(n(2),n(18));t.a=function(e){var t=e.visible,n=e.children,a=e.placement,s=void 0===a?"right":a,r=e.width,o=void 0===r?800:r,d=e.title,l=e.onClose;return Object(i.jsx)(c.a,{visible:t,placement:s,width:o,title:d,onClose:function(){l()},children:n})}},582:function(e,t,n){"use strict";n(1204),n(1205),n(18)},638:function(e,t,n){"use strict";n(2);var c=n(1688),i=n(1204),a=n(1205),s=n(665),r=n(30),o=n(18);t.a=function(e){var t,n,d=e.payment;return Object(o.jsx)(c.a,{size:"small",title:"PAYMENT DRAFT DETAILS",children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(a.a,{span:11,children:Object(o.jsxs)(s.b,{children:[Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PURCHASE NUMBER",description:null===d||void 0===d?void 0:d.purchaseNumber})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT METHOD",description:null===d||void 0===d?void 0:d.paymentMethod})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT STATUS",description:null===d||void 0===d?void 0:d.paymentStatus})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT DRAFT CREATED BY",description:"".concat(null===d||void 0===d||null===(t=d.createdBy)||void 0===t?void 0:t.fullName," (").concat(null===d||void 0===d||null===(n=d.createdBy)||void 0===n?void 0:n.email,")")})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT METHOD",description:null===d||void 0===d?void 0:d.paymentMethod})})]})}),Object(o.jsx)(a.a,{span:11,offset:2,children:Object(o.jsxs)(s.b,{children:[Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"CHEQUE NUMBER",description:null===d||void 0===d?void 0:d.chequeNumber})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT DATE",description:Object(r.c)(null===d||void 0===d?void 0:d.createdDate)})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"WITHHOLDING TAX(%)",description:(null===d||void 0===d?void 0:d.withholdingTaxAmount)?"".concat(100*(null===d||void 0===d?void 0:d.withholdingTaxPercentage),"%"):"0%"})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"AMOUNT PAYABLE",description:Object(r.a)(null===d||void 0===d?void 0:d.paymentAmount)})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"WITHHOLDING AMOUNT",description:Object(r.a)(null===d||void 0===d?void 0:d.withholdingTaxAmount)})})]})})]})})}},676:function(e,t,n){"use strict";var c=n(1204),i=n(1205),a=n(1683),s=n(501),r=n(665),o=n(1173),d=n(1654),l=n(566),u=(n(2),n(1698)),j=n(30),O=(n(582),n(638),n(18));t.a=function(e){var t=e.itemDescription,n=(e.loading,e.comments),p=void 0===n?[]:n,b=e.onResolve,E=e.showResolveBtn,m=void 0!==E&&E,R=e.resolveBtnText,x=void 0===R?"Resolve":R,h=e.onSubmit,I=e.submitting,y=e.onCommentChange,N=e.newComment;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(c.a,{children:Object(O.jsx)(i.a,{span:24,children:t})}),Object(O.jsx)(a.a.Ribbon,{text:"COMMENTS",color:"cyan",children:(null===e||void 0===e?void 0:e.loading)?Object(O.jsx)(s.a,{}):Object(O.jsx)(c.a,{children:Object(O.jsxs)(i.a,{span:24,style:{backgroundColor:"#f5fafa",padding:"30px 10px 10px 10px"},children:[Object(O.jsx)(c.a,{children:Object(O.jsx)(i.a,{span:24,children:p.length>0?Object(O.jsx)(r.b,{children:p.map((function(e){var t,n=null===e||void 0===e?void 0:e.commentBy;return{userName:"".concat(null===n||void 0===n?void 0:n.firstName," ").concat(null===n||void 0===n?void 0:n.lastName," (").concat(null===n||void 0===n||null===(t=n.role)||void 0===t?void 0:t.replaceAll("ROLE_",""),") on ").concat(Object(j.c)(null===e||void 0===e?void 0:e.createdDate)),userInitials:"".concat(null===n||void 0===n?void 0:n.firstName.slice(0,1)," ").concat(null===n||void 0===n?void 0:n.lastName.slice(0,1)),message:null===e||void 0===e?void 0:e.description,id:null===e||void 0===e?void 0:e.id}})).map((function(e){return Object(O.jsx)(r.b.Item,{children:Object(O.jsx)(r.b.Item.Meta,{avatar:Object(O.jsx)(o.a,{style:{backgroundColor:"#1890ff",verticalAlign:"middle"},size:"large",children:null===e||void 0===e?void 0:e.userInitials}),title:null===e||void 0===e?void 0:e.userName,description:e.message})},e.id)}))}):Object(O.jsx)(c.a,{children:Object(O.jsx)(i.a,{span:24,style:{height:70,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)("h3",{children:"No comment found!"})})})})}),Object(O.jsx)(c.a,{children:Object(O.jsxs)(i.a,{span:24,style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",paddingTop:10},children:[Object(O.jsx)("div",{style:{flexGrow:1},children:Object(O.jsx)(d.a,{value:N,onChange:function(e){return y(e.target.value)}})}),Object(O.jsx)(l.a,{style:{width:40,marginLeft:1},disabled:!N,type:"default",loading:I,onClick:function(){N&&h(N)},children:Object(O.jsx)(u.a,{})}),m&&Object(O.jsx)(l.a,{style:{width:150,marginLeft:10},type:"primary",onClick:function(){b()},children:x})]})})]})})})]})}},818:function(e,t,n){"use strict";n(2);var c=n(1688),i=n(1204),a=n(1205),s=n(665),r=n(30),o=n(18);t.a=function(e){var t=e.pettyCash,n=void 0===t?{}:t;return Object(o.jsx)(c.a,{title:"PETTY CASH INFO",size:"small",children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(a.a,{span:12,children:Object(o.jsxs)(s.b,{children:[Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"REFERENCE",description:null===n||void 0===n?void 0:n.pettyCashRef})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"DESCRIPTION",description:null===n||void 0===n?void 0:n.name})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"REQUESTED ON",description:null===n||void 0===n?void 0:n.createdDate})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PURPOSE",description:null===n||void 0===n?void 0:n.purpose})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"QUANTITY",description:null===n||void 0===n?void 0:n.quantity})})]})}),Object(o.jsx)(a.a,{span:12,children:Object(o.jsxs)(s.b,{children:[Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"AMOUNT",description:Object(r.a)(null===n||void 0===n?void 0:n.amount)})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"ENDORSEMENT STATUS",description:null===n||void 0===n?void 0:n.endorsement})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"APPROVAL STATUS",description:null===n||void 0===n?void 0:n.approval})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"STATUS",description:null===n||void 0===n?void 0:n.status})}),Object(o.jsx)(s.b.Item,{children:Object(o.jsx)(s.b.Item.Meta,{title:"PAYMENT STATUS",description:(null===n||void 0===n?void 0:n.paid)?"PAID":"PENDING"})})]})})]})})}}}]);
//# sourceMappingURL=26.bf213c9e.chunk.js.map