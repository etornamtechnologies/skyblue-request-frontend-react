(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[26],{1173:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a.n(s),c=a(305),r=a(289),i=a(277),l=a(1),o=a.n(l),j=a(5);var p=a(6),d=a(310),b=a(716),u=a(717),O=a(1166),h=a(13),x=function(e){var t=e.title,a=e.value;return Object(h.jsx)(O.a,{title:t,bordered:!1,hoverable:!0,children:Object(h.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-end"},children:Object(h.jsx)("div",{style:{},children:Object(h.jsx)("span",{style:{fontSize:"30px",color:"#7e8082"},children:a||0})})})})},m=a(1153),g=a(33),R=a(14),f=function(e){var t=e.data,a=e.label,s=e.labels,n=e.maintainAspectRatio,c=void 0!==n&&n;return Object(h.jsx)(m.a,{height:"250px",options:{maintainAspectRatio:c,responsive:!0},type:"Line",data:{label:a,labels:s,datasets:[{backgroundColor:s.map((function(e,t){return R.a[t]||Object(g.b)()})),label:a,data:t,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1,barThickness:25,barPercentage:.5}]}})},y=function(e){var t=e.data,a=e.label,s=e.labels,n=e.type,c=void 0===n?"Pie":n;return Object(h.jsx)(h.Fragment,{children:"Pie"===c?Object(h.jsx)(m.d,{height:"250px",options:{aspectRatio:1,maintainAspectRatio:!1},data:{labels:s,datasets:[{label:a,backgroundColor:s.map((function(e,t){return R.a[t]||Object(g.b)()})),data:t}]},title:a,type:"Pie"}):Object(h.jsx)(m.b,{height:"250px",options:{aspectRatio:1,maintainAspectRatio:!1},data:{label:a,labels:s,datasets:[{label:a,backgroundColor:s.map((function(e,t){return R.a[s.length-t]||Object(g.b)()})),data:t}]},title:a,type:"Doughnut"})})},E=function(e){var t=e.data,a=t.countOfRequestPerCurrentMonth,s=t.countOfGRNForToday,n=t.costPerDepartmentForCurrentMonth,c=t.countOfPaymentDueWithinOneWeek,r=t.approvedNumberRequestItemsAndUserDepartmentToday,i=t.countPaymentsMadeToday,l=t.supplierSpendAnalysis,j=t.requestsPerCurrentMonthPerDepartment,p=t.requestPerCategoryForToday;return Object(h.jsxs)(o.a.Fragment,{children:[Object(h.jsx)(b.a,{children:Object(h.jsx)(u.a,{md:24,children:Object(h.jsx)("span",{className:"bs-page-title",children:"Dashboard"})})}),Object(h.jsx)(b.a,{children:Object(h.jsxs)(u.a,{md:24,children:[Object(h.jsxs)(b.a,{gutter:12,children:[Object(h.jsx)(u.a,{md:6,children:Object(h.jsx)(x,{title:"This month's requests",value:a})}),Object(h.jsx)(u.a,{md:6,children:Object(h.jsx)(x,{title:"Payments due in a week",value:c})}),Object(h.jsx)(u.a,{md:6,children:Object(h.jsx)(x,{title:"Payments made today",value:i})}),Object(h.jsx)(u.a,{md:6,children:Object(h.jsx)(x,{title:"GRN for today",value:s})})]}),Object(h.jsxs)(b.a,{gutter:12,style:{marginTop:20},children:[Object(h.jsx)(u.a,{md:8,children:Object(h.jsx)(O.a,{style:{height:350},title:"Supplier Spend Analysis",hoverable:!0,children:(l||[]).length<1?"N/A":Object(h.jsx)(y,{type:"doughnut",maintainAspectRatio:!1,label:"Cost per department for this month",labels:(l||[]).map((function(e){return e.name})),data:(l||[]).map((function(e){return e.paymentAmount}))})})}),Object(h.jsx)(u.a,{md:8,children:Object(h.jsx)(O.a,{style:{height:350},title:"Approved number of requests per department",hoverable:!0,children:(r||[]).length<1?"N/A":Object(h.jsx)(y,{type:"doughnut",maintainAspectRatio:!1,label:"Approved number of requests per department",labels:(r||[]).map((function(e){return e.userDepartment})),data:(r||[]).map((function(e){return e.numOfRequest}))})})}),Object(h.jsx)(u.a,{md:8,children:Object(h.jsx)(O.a,{style:{height:350},title:"Request per department for this month",hoverable:!0,children:(j||[]).length<1?"N/A":Object(h.jsx)(y,{type:"Pie",maintainAspectRatio:!1,label:"Request per department for this month",labels:(j||[]).map((function(e){return e.department})),data:(j||[]).map((function(e){return e.num_of_Request}))})})})]}),Object(h.jsxs)(b.a,{style:{marginTop:20},gutter:12,children:[Object(h.jsx)(u.a,{md:12,children:Object(h.jsx)(O.a,{style:{height:350},title:"Cost per department for this month",hoverable:!0,children:(n||[]).length<1?"N/A":Object(h.jsx)(f,{maintainAspectRatio:!1,label:"Cost per department for this month",labels:(n||[]).map((function(e){return e.userDepartment})),data:(n||[]).map((function(e){return e.totalPrice}))})})}),Object(h.jsx)(u.a,{md:12,children:Object(h.jsx)(O.a,{style:{height:350},title:"Request per category for today",hoverable:!0,children:(p||[]).length<1?"N/A":Object(h.jsx)(f,{maintainAspectRatio:!1,label:"Request per category for today",labels:(p||[]).map((function(e){return e.requestCategory})),data:(p||[]).map((function(e){return e.numOfRequest}))})})})]})]})})]})};t.default=function(e){var t=o.a.useState({}),a=Object(r.a)(t,2),s=a[0],l=a[1],b=o.a.useState(!1),u=Object(r.a)(b,2),O=u[0],x=u[1],m=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,Object(j.b)({url:"/dashboard/data",method:"GET"});case 4:(t=e.sent).status===j.a?(a=t.data,l(a)):Object(p.a)("error","Get Dashboard",t.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(p.a)("error","get dashboard data","Failed!");case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.useEffect((function(){m()}),[]),Object(h.jsx)(o.a.Fragment,{children:Object(h.jsx)(d.a,{children:O?Object(h.jsx)(i.a,{}):Object(h.jsx)(E,{data:s})})})}},310:function(e,t,a){"use strict";var s=a(0),n=a(59),c=a(289),r=a(1),i=a.n(r),l=a(1161),o=a(306),j=a(716),p=a(717),d=a(320),b=(a(311),a(63)),u=a(1184),O=a(1185),h=a(1186),x=a(1187),m=a(1188),g=a(1189),R=a(1190),f=a(1191),y=a(1192),E=a(1193),C=a(1194),v=a(1195),A=a(1196),I=a(1197),N=a(1198),_=a(1183),q=a(19),F=a(91),P=a(43),L=a(114),M=a(14),T=a(13),k=function(e){var t,a=i.a.useState(!1),s=Object(c.a)(a,2),n=s[0],r=s[1],k=l.a.Header,U=l.a.Sider,S=l.a.Content,D=l.a.Footer,w=i.a.useState("home"),G=Object(c.a)(w,2),H=G[0],B=G[1],K=Object(q.h)(),Q=e.currentUser,W=(Object(q.j)().path,function(){r(!n)}),z=Object(T.jsx)(o.a,{onClick:function(){console.log("menu click")},children:Object(T.jsx)(o.a.Item,{icon:Object(T.jsx)(u.a,{}),onClick:function(){return b.c()},children:"Logout"},"1")});return i.a.useEffect((function(){console.log("pathname",K.pathname);var e=K.pathname;e.includes("/app/my-requests")?B("my-requests"):e.includes("/app/dashboard")?B("dashboard"):e.includes("/app/departments")?B("department"):e.includes("/app/employees")?B("employee"):e.includes("/app/settings")?B("setting"):e.includes("/app/request-items")?B("request"):e.includes("/app/petty-cash")?B("petty-cash"):e.includes("/app/float")?B("float"):e.includes("/app/suppliers")?B("/app/"):e.includes("/app/local-purchase-orders")?B("/app/local-purchase-orders"):e.includes("/app/procurement/create-quotation")?B("/app/procurement/create-quotation"):e.includes("/app/suppliers")?B("/app/suppliers"):e.includes("/app/quotations")?B("/app/quotations"):e.includes("/app/procurement/assign-suppliers")?B("assign-suppliers"):e.includes("/app/store")?B("/app/store"):e.includes("/app/grn")?B("/app/grn"):e.includes("/app/account/goods-receive-notes")?B("/app/account/goods-receive-notes"):e.includes("/app/account")?B("/app/account"):B("home")}),[H]),Object(T.jsxs)(l.a,{className:"bs-layout",children:[Object(T.jsxs)(U,{trigger:null,collapsible:!0,collapsed:n,children:[Object(T.jsxs)("div",{style:{color:"#fff",padding:"10px 0px 10px 20px",marginBottom:10},children:[Object(T.jsx)("img",{width:"30",height:"40",src:"https://www.blueskies.com/wp-content/uploads/2017/10/logo-01.png",alt:"",loading:"eager"}),Object(T.jsx)("span",{children:"Blueskies"})]}),Object(T.jsxs)(o.a,{theme:"dark",style:{height:"100vh",overflowY:"auto"},mode:"inline",defaultSelectedKeys:["/app"],selectedKeys:[H],forceSubMenuRender:!0,onClick:function(e){return B(e)},defaultOpenKeys:["procurement"],onChange:function(e){B(e)},children:[Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app",children:[Object(T.jsx)(O.a,{}),Object(T.jsx)("span",{children:"Home"})]})},"home"),b.d(Q.role,L.e.dashboardRoles)&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/dashboard",children:[Object(T.jsx)(h.a,{}),Object(T.jsx)("span",{children:"Dashboard"})]})},"dashboard"),Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/my-requests",children:[Object(T.jsx)(x.a,{}),Object(T.jsx)("span",{children:"My Requests"})]})},"my-requests"),b.d(Q.role,[M.b.ROLE_HOD,M.b.ROLE_GENERAL_MANAGER])&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/request-items",children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("span",{children:"Item requests"})]})},"request"),Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/float",children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("span",{children:"Float requests"})]})},"float"),Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/petty-cash",children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("span",{children:"Petty cash requests"})]})},"petty-cash")]}),b.d(Q.role,[M.b.ROLE_HOD,M.b.ROLE_GENERAL_MANAGER,M.b.ROLE_STORE_OFFICER,M.b.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/grn",children:[Object(T.jsx)(g.a,{}),Object(T.jsx)("span",{children:"GRN Management"})]})},"/app/grn"),b.d(Q.role,[M.b.ROLE_PROCUREMENT_OFFICER,M.b.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsxs)(o.a.SubMenu,{icon:Object(T.jsx)(m.a,{}),title:"Procurement",children:[Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"".concat(P.g,"/assign-suppliers"),children:"Assign Supplier"})},"assign-suppliers"),Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"".concat(P.g,"/rfqs"),children:"RFQs"})},"".concat(P.g,"/rfqs")),Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"".concat(P.g,"/create-quotation"),children:"Create Quotation"})},"/app/procurement/create-quotation"),Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"".concat(P.g,"/add-local-purchase-order"),children:"Create LPO"})},"".concat(P.g,"/add-local-purchase-order")),Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"".concat(P.g,"/request-categories"),children:"Request Categories"})},"".concat(P.g,"/request-categories"))]},"procurement"),b.d(Q.role,[M.b.ROLE_PROCUREMENT_OFFICER,M.b.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/quotations",children:[Object(T.jsx)(R.a,{}),Object(T.jsx)("span",{children:"Supplier Quotes"})]})},"/app/quotations"),b.d(Q.role,[M.b.ROLE_PROCUREMENT_OFFICER,M.b.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/local-purchase-orders",children:[Object(T.jsx)(f.a,{}),Object(T.jsx)("span",{children:"Local Purchase Orders"})]})},"/app/local-purchase-orders"),b.d(Q.role,[M.b.ROLE_STORE_OFFICER])&&Object(T.jsx)(o.a.Item,{icon:Object(T.jsx)(g.a,{}),children:Object(T.jsx)(F.b,{to:"/app/store",children:"Store"})},"/app/store"),b.d(Q.role,[M.b.ROLE_ACCOUNT_OFFICER,M.b.ROLE_CHIEF_ACCOUNT_OFFICER,M.b.ROLE_AUDITOR])&&Object(T.jsxs)(o.a.SubMenu,{title:"Accounts",icon:Object(T.jsx)(y.a,{}),children:[b.d(Q.role,[M.b.ROLE_ACCOUNT_OFFICER])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"/app/account/goods-receive-notes",children:"Make Payment"})},"/app/account/goods-receive-notes"),b.d(Q.role,[M.b.ROLE_ACCOUNT_OFFICER,M.b.ROLE_AUDITOR])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"/app/account/payments",children:"Payments"})},"/app/account/payments"),b.d(Q.role,[M.b.ROLE_AUDITOR])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsx)(F.b,{to:"/app/audit/approve-payment",children:"Aprove Payments"})},"/app/audit/approve-payment")]},"/app/account"),b.d(Q.role,L.e.listDepartmentsRoles)&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/departments",children:[Object(T.jsx)(E.a,{}),Object(T.jsx)("span",{children:"Departments"})]})},"department"),b.d(Q.role,[M.b.ROLE_PROCUREMENT_OFFICER,M.b.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/suppliers",children:[Object(T.jsx)(C.a,{}),Object(T.jsx)("span",{children:"Supplier Management"})]})},"/app/suppliers"),b.d(Q.role,L.e.listUserRoles)&&Object(T.jsx)(o.a.Item,{children:Object(T.jsxs)(F.b,{to:"/app/employees",children:[Object(T.jsx)(C.a,{}),Object(T.jsx)("span",{children:"User Management"})]})},"employee"),Object(T.jsx)(o.a.Item,{icon:Object(T.jsx)(v.a,{}),children:Object(T.jsx)(F.b,{to:"/app/settings",children:Object(T.jsx)("span",{children:"Settings"})})},"setting"),b.d(Q.role,L.e.report)&&Object(T.jsx)(o.a.Item,{icon:Object(T.jsx)(A.a,{}),children:Object(T.jsx)(F.b,{to:"/app/reports",children:Object(T.jsx)("span",{children:"Reports"})})},"/app/reports"),Object(T.jsx)(o.a.Item,{icon:Object(T.jsx)(u.a,{}),danger:!0,onClick:function(){b.c()},children:"Logout"},"11")]})]}),Object(T.jsxs)(l.a,{className:"bs-site-layout",children:[Object(T.jsx)(k,{className:"bs-site-layout-background",style:{padding:0},children:Object(T.jsxs)(j.a,{children:[Object(T.jsx)(p.a,{span:2,children:n?Object(T.jsx)(I.a,{className:"bs-trigger",onClick:W}):Object(T.jsx)(N.a,{onClick:W,className:"bs-trigger"})}),Object(T.jsx)(p.a,{span:14,children:e.title&&Object(T.jsx)("span",{style:{fontSize:20,fontWeight:"lighter",color:"#6e7273"},children:null===(t=e.title)||void 0===t?void 0:t.toUpperCase()})}),Object(T.jsx)(p.a,{span:8,children:Object(T.jsx)("div",{style:{float:"right",marginRight:10,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",height:"100%"},children:Object(T.jsx)(d.a.Button,{overlay:z,placement:"bottomLeft",icon:Object(T.jsx)(_.a,{}),children:Q.fullName})})})]})}),Object(T.jsxs)(S,{className:"bs-site-layout-content",style:{minHeight:380},children:[e.subNav&&Object(T.jsx)(j.a,{className:"bs-sub-nav-header",children:Object(T.jsx)(p.a,{span:24,children:e.subNav})}),Object(T.jsx)(j.a,{children:Object(T.jsx)(p.a,{span:24,style:{padding:10},children:e.children})})]}),Object(T.jsx)(D,{style:{textAlign:"center"},children:"Blueskies Procurement Application \xa92021 Created by Tech-Bridge"})]})]})};t.a=Object(n.b)((function(e){return{currentUser:e.auth.user}}),null)((function(e){return Object(T.jsx)(k,Object(s.a)({},e))}))},311:function(e,t,a){}}]);
//# sourceMappingURL=26.021b1546.chunk.js.map