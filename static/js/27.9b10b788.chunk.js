(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[27],{1711:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(2),r=n.n(a),s=n(84),i=n(1710),o=n(1223),l=n(1224),d=n(1692),u=n(518),p=n(150),O=n(18),j=function(e){var t=e.fetchMyRequests,n=e.my_requests,c=e.fetching_my_requests;return r.a.useEffect((function(){t({})}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Home"}),Object(O.jsxs)(i.a,{title:"My Recent Requests",children:[Object(O.jsx)(o.a,{children:Object(O.jsx)(l.a,{md:24,children:Object(O.jsx)(d.a,{loading:c,columns:u.k,dataSource:null===n||void 0===n?void 0:n.slice(0,5),rowKey:"id",pagination:!1,size:"small"})})}),Object(O.jsx)(o.a,{children:Object(O.jsx)(l.a,{md:24,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:5},children:Object(O.jsx)(p.b,{to:"/app/my-requests/lpos",children:"View All"})})})]})]})},R=n(520),E=n(29);t.default=Object(s.b)((function(e){return{authUser:e.auth.user,my_requests:e.request.my_requests,fetching_my_requests:e.request.loading}}),(function(e){return{fetchMyRequests:function(t){e(E.a.fetchMyRequests(t))}}}))((function(e){return Object(O.jsx)(R.a,{children:Object(O.jsx)(j,Object(c.a)({},e))})}))},518:function(e,t,n){"use strict";n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"l",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return x})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"d",(function(){return I}));var c=n(1714),a=n(756),r=n(1705),s=n(1692),i=n(26),o=n(149),l=n(18),d=[{title:"Reference",dataIndex:"requestItemRef",key:"requestItemRef"},{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"Reason",dataIndex:"reason",key:"reason"},{title:"Purpose",dataIndex:"purpose",key:"purpose"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Department",dataIndex:"userDepartment",key:"userDepartment",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.userDepartment)||void 0===n?void 0:n.name}},{title:"Unit Price",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(i.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}},{title:"Date",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(i.c)(e)}},{title:"Endorsement",dataIndex:"endorsement",key:"endorsement"},{title:"Approval",dataIndex:"approval",key:"approval"},{title:"Status",dataIndex:"status",key:"status"}],u=[{title:"Reference",dataIndex:"requestItemRef",key:"requestItemRef"},{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return"URGENT"===(null===t||void 0===t?void 0:t.priority)?Object(l.jsx)(a.a,{color:"red",children:e}):e}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Unit Price",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return e?Object(i.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency):"N/A"}}],p=[{title:"ID",dataIndex:"id",key:"id"},{title:"NAME",dataIndex:"name",key:"name"},{title:"DESCRIPTION",dataIndex:"description",key:"description"}],O=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[t.registered&&Object(l.jsx)("span",{style:{marginRight:5},children:Object(l.jsx)(c.a,{})}),Object(l.jsx)("span",{children:e})]})}},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phone_no",key:"phone_no"},{title:"Registration",dataSource:"registered",key:"registered",render:function(e,t){return t.registered?"Registered":"Not Registered"}},{title:"Location",dataIndex:"location",key:"location"},{title:"Bank",dataIndex:"bank",key:"bank"},{title:"Account Number",dataIndex:"accountNumber",key:"accountNumber"},{title:"Description",dataIndex:"description",key:"description"}],j=[{title:"Name",dataIndex:"fullName",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNo",key:"phoneNo"},{title:"Department",dataIndex:"department",key:"department",render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"Role",dataIndex:"roles",key:"roles",render:function(e){var t,n=null===(t=(e||[])[0])||void 0===t?void 0:t.name;return null===n||void 0===n?void 0:n.replaceAll("_"," ")}},{title:"Status",dataIndex:"enabled",key:"department",render:function(e){return e?"Activated":"Deactivated"}}],R=[{title:"Reference",dataIndex:"floatRef",key:"floatRef"},{title:"Description",dataIndex:"itemDescription",key:"itemDescription"},{title:"Unit Price",dataIndex:"estimatedUnitPrice",key:"estimatedUnitPrice",render:function(e){return Object(i.a)(e)}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Total Amount",dataIndex:"amountTotal",key:"amountTotal",render:function(e,t){return Object(i.a)((null===t||void 0===t?void 0:t.estimatedUnitPrice)*(null===t||void 0===t?void 0:t.quantity))}},{title:"Requested By",dataIndex:"createdBy",key:"createdBy",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.createdBy)||void 0===n?void 0:n.fullName}},{title:"Requested On",dataIndex:"createdDate",key:"createdDate",render:function(e){return Object(i.c)(e)}},{title:"Approval Status",dataIndex:"approval",key:"approval"}],E={MY_REQUEST:"MY-REQUEST",HOD_PENDING_ENDORSEMENT_REQUESTS:"HOD-PENDING-ENDORSEMENT-REQUESTS",HOD_PENDING_REQUEST:"HOD-PENDING-REQUEST",GM_PENDING_REQUEST:"GM_PENDING_REQUEST",PROCUREMENT_PENDING_SUPPLIER_REQUEST:"PROCUREMENT-PENDING_SUPPLIER_REQUEST",PROCUREMENT_PENDING_PENDING_UNIT_PRICE_REQUEST:"PROCUREMENT-PENDING-UNIT-PRICE-REQUEST"},b={dashboardRoles:[o.c.ROLE_ADMIN,o.c.ROLE_GENERAL_MANAGER,o.c.ROLE_PROCUREMENT_OFFICER,o.c.ROLE_ACCOUNT_OFFICER],createUserRoles:[o.c.ROLE_ADMIN],listUserRoles:[o.c.ROLE_ADMIN],editUserRoles:[o.c.ROLE_ADMIN],deleteUserRoles:[o.c.ROLE_ADMIN],listDepartmentsRoles:[o.c.ROLE_ADMIN],editDepartmentRoles:[o.c.ROLE_ADMIN],createDepartmentRoles:[o.c.ROLE_ADMIN],deleteDepartmentRoles:[o.c.ROLE_ADMIN],listSupplierRoles:[o.c.ROLE_ADMIN,o.c.ROLE_PROCUREMENT_OFFICER,o.c.ROLE_GENERAL_MANAGER],editSupplierRoles:[o.c.ROLE_ADMIN,o.c.ROLE_PROCUREMENT_OFFICER],createSupplierRoles:[o.c.ROLE_ADMIN,o.c.ROLE_PROCUREMENT_OFFICER],deleteSupplierRoles:[o.c.ROLE_ADMIN],ROLE_HODEndorseRoles:[o.c.ROLE_ADMIN,o.c.ROLE_HOD],generalManagerApproveRoles:[o.c.ROLE_ADMIN,o.c.ROLE_GENERAL_MANAGER],procurementOfficerApproveRoles:[o.c.ROLE_ADMIN,o.c.ROLE_PROCUREMENT_OFFICER],paymentListRoles:[o.c.ROLE_ADMIN,o.c.ROLE_GENERAL_MANAGER],createPaymentRoles:[o.c.ROLE_ADMIN,o.c.ROLE_PROCUREMENT_OFFICER],listQuotationRoles:[o.c.ROLE_PROCUREMENT_OFFICER,o.c.ROLE_ADMIN,o.c.ROLE_GENERAL_MANAGER],requestMenu:[o.c.ROLE_GENERAL_MANAGER,o.c.ROLE_HOD],report:[o.c.ROLE_GENERAL_MANAGER,o.c.ROLE_AUDITOR,o.c.ROLE_ACCOUNT_OFFICER,o.c.ROLE_PROCUREMENT_OFFICER,o.c.ROLE_STORE_OFFICER]},x="GHS",m=5,h=1024*m*1024,I=function(e){var t=[{title:"Description",dataIndex:"name",key:"name"},{title:"Reason",dataIndex:"reason",key:"reason"},{title:"Qauntity",dataIndex:"quantity",key:"quantity"},{title:"Unit Price",dataIndex:"unitPrice",key:"unitPrice",render:function(e,t){return"".concat(Object(i.a)(null===t||void 0===t?void 0:t.unitPrice,null===t||void 0===t?void 0:t.currency))}},{title:"Request Date",dataIndex:"requestDate",key:"requestDate",render:function(e){return Object(i.c)(e)}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(l.jsxs)("span",{children:[Object(l.jsx)(r.a,{status:"PROCESSED"===e?"success":"error"}),e]})}}];return Object(l.jsx)(s.a,{columns:t,dataSource:e.requestItems,pagination:!1,rowKey:"id"})}},520:function(e,t,n){"use strict";var c=n(0),a=n(84),r=n(509),s=n(2),i=n.n(s),o=n(1688),l=n(953),d=n(1223),u=n(1224),p=n(988),O=(n(547),n(73)),j=n(1715),R=n(1716),E=n(1717),b=n(1718),x=n(1719),m=n(1720),h=n(1721),I=n(1722),N=n(1723),_=n(1724),y=n(1725),f=n(1726),g=n(1727),A=n(1728),L=n(1729),D=n(1713),M=n(28),v=n(150),P=n(59),C=n(518),k=n(149),U=n.p+"static/media/logo512.3c1832d4.png",q=n(537),T=n(18),S=function(e){var t=i.a.useState(!1),n=Object(r.a)(t,2),c=n[0],a=n[1],S=o.a.Header,F=o.a.Sider,G=o.a.Content,Q=o.a.Footer,H=i.a.useState("home"),B=Object(r.a)(H,2),w=B[0],K=B[1],Y=Object(M.h)(),z=e.currentUser,J=e.notifications,V=e.fetchNotifications,W=(Object(M.j)().path,function(){a(!c)}),X=Object(T.jsx)(l.a,{onClick:function(){console.log("menu click")},children:Object(T.jsx)(l.a.Item,{icon:Object(T.jsx)(j.a,{}),onClick:function(){return O.c()},children:"Logout"},"1")});return Object(s.useEffect)((function(){V()}),[]),i.a.useEffect((function(){console.log("pathname",Y.pathname);var e=Y.pathname;e.includes("/app/my-requests")?K("my-requests"):e.includes("/app/dashboard")?K("dashboard"):e.includes("/app/departments")?K("department"):e.includes("/app/employees")?K("employee"):e.includes("/app/settings")?K("setting"):e.includes("/app/request-items")?K("request"):e.includes("/app/petty-cash")?K("petty-cash"):e.includes("/app/float")?K("float"):e.includes("/app/local-purchase-orders")?K("/app/local-purchase-orders"):e.includes("/app/procurement/create-quotation")?K("/app/procurement/create-quotation"):e.includes("/app/suppliers")?K("/app/suppliers"):e.includes("/app/quotations")?K("/app/quotations"):e.includes("/app/procurement/assign-suppliers")?K("assign-suppliers"):e.includes("/app/procurement/rfqs")?K("procurement/rfqs"):e.includes("/app/procurement/request-categories")?K("procurement/request-categories"):e.includes("/app/store")?K("/app/store"):e.includes("/app/grn")?K("/app/grn"):e.includes("/app/account/goods-receive-notes")?K("/app/account/goods-receive-notes"):e.includes("/app/account")?K("/app/account"):e.includes("/app/payments")?K("/app/payments"):e.includes("/app/reports")?K("/app/reports"):K("home")}),[w]),Object(T.jsxs)(o.a,{className:"bs-layout",children:[Object(T.jsxs)(F,{trigger:null,collapsible:!0,collapsed:c,children:[Object(T.jsxs)("div",{style:{color:"#fff",padding:"10px 0px 10px 20px",marginBottom:10},children:[Object(T.jsx)("img",{width:"30",height:"40",src:U,alt:"company_logo"}),Object(T.jsx)("span",{children:"Blueskies"})]}),Object(T.jsxs)(l.a,{theme:"dark",style:{height:"100vh",overflowY:"auto"},mode:"inline",defaultSelectedKeys:["/app"],selectedKeys:[w],forceSubMenuRender:!0,onClick:function(e){return K(e)},defaultOpenKeys:["procurement"],onChange:function(e){K(e)},children:[Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app",children:[Object(T.jsx)(R.a,{}),Object(T.jsx)("span",{children:"Home"})]})},"home"),O.d(z.role,C.g.dashboardRoles)&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/dashboard",children:[Object(T.jsx)(E.a,{}),Object(T.jsx)("span",{children:"Dashboard"})]})},"dashboard"),O.d(z.role,[k.c.ROLE_REGULAR])&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/my-requests",children:[Object(T.jsx)(b.a,{}),Object(T.jsx)("span",{children:"My Requests"})]})},"my-requests")}),O.d(z.role,[k.c.ROLE_HOD,k.c.ROLE_GENERAL_MANAGER,k.c.ROLE_ADMIN])&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/request-items",children:[Object(T.jsx)(x.a,{}),Object(T.jsx)("span",{children:"Item requests"})]})},"request"),Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/petty-cash",children:[Object(T.jsx)(x.a,{}),Object(T.jsx)("span",{children:"Petty cash requests"})]})},"petty-cash")]}),O.d(z.role,[k.c.ROLE_HOD,k.c.ROLE_GENERAL_MANAGER,k.c.ROLE_AUDITOR])&&Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/float",children:[Object(T.jsx)(x.a,{}),Object(T.jsx)("span",{children:"Float requests"})]})},"float")}),O.d(z.role,[k.c.ROLE_CHIEF_ACCOUNT_OFFICER,k.c.ROLE_GENERAL_MANAGER,k.c.ROLE_ACCOUNT_OFFICER,k.c.ROLE_AUDITOR,k.c.ROLE_FINANCIAL_MANAGER])&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/payments",children:[Object(T.jsx)(m.a,{}),Object(T.jsx)("span",{children:"Payments"})]})},"/app/payments"),O.d(z.role,[k.c.ROLE_HOD,k.c.ROLE_GENERAL_MANAGER,k.c.ROLE_STORE_OFFICER,k.c.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/grn",children:[Object(T.jsx)(h.a,{}),Object(T.jsx)("span",{children:"Goods Receive Note"})]})},"/app/grn"),O.d(z.role,[k.c.ROLE_PROCUREMENT_OFFICER,k.c.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsxs)(l.a.SubMenu,{icon:Object(T.jsx)(x.a,{}),title:"Procurement",children:[Object(T.jsx)(l.a.Item,{children:Object(T.jsx)(v.b,{to:"".concat(P.g,"/assign-suppliers"),children:J.assignSupplierProcurement?Object(T.jsx)(q.a,{count:J.assignSupplierProcurement,children:"Assign Supplier"}):Object(T.jsx)("span",{children:"Assign Supplier"})})},"assign-suppliers"),Object(T.jsx)(l.a.Item,{children:Object(T.jsx)(v.b,{to:"".concat(P.g,"/rfqs"),children:"RFQs"})},"procurement/rfqs"),Object(T.jsx)(l.a.Item,{children:Object(T.jsx)(v.b,{to:"".concat(P.g,"/request-categories"),children:"Request Categories"})},"procurement/request-categories")]},"procurement"),O.d(z.role,[k.c.ROLE_PROCUREMENT_OFFICER,k.c.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/quotations",children:[Object(T.jsx)(I.a,{}),Object(T.jsx)("span",{children:"Quotations"})]})},"/app/quotations"),O.d(z.role,[k.c.ROLE_PROCUREMENT_OFFICER,k.c.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/local-purchase-orders",children:[Object(T.jsx)(N.a,{}),Object(T.jsx)("span",{children:"Local Purchase Orders"})]})},"/app/local-purchase-orders"),O.d(z.role,C.g.listDepartmentsRoles)&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/departments",children:[Object(T.jsx)(_.a,{}),Object(T.jsx)("span",{children:"Departments"})]})},"department"),O.d(z.role,[k.c.ROLE_PROCUREMENT_OFFICER,k.c.ROLE_PROCUREMENT_MANAGER])&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/suppliers",children:[Object(T.jsx)(y.a,{}),Object(T.jsx)("span",{children:"Supplier Management"})]})},"/app/suppliers"),O.d(z.role,C.g.listUserRoles)&&Object(T.jsx)(l.a.Item,{children:Object(T.jsxs)(v.b,{to:"/app/employees",children:[Object(T.jsx)(y.a,{}),Object(T.jsx)("span",{children:"User Management"})]})},"employee"),Object(T.jsx)(l.a.Item,{icon:Object(T.jsx)(f.a,{}),children:Object(T.jsx)(v.b,{to:"/app/settings",children:Object(T.jsx)("span",{children:"Settings"})})},"setting"),O.d(z.role,C.g.report)&&Object(T.jsx)(l.a.Item,{icon:Object(T.jsx)(g.a,{}),children:Object(T.jsx)(v.b,{to:"/app/reports",children:Object(T.jsx)("span",{children:"Reports"})})},"/app/reports"),Object(T.jsx)(l.a.Item,{icon:Object(T.jsx)(j.a,{}),danger:!0,onClick:function(){O.c()},children:"Logout"},"11")]})]}),Object(T.jsxs)(o.a,{className:"bs-site-layout",children:[Object(T.jsx)(S,{className:"bs-site-layout-background",style:{padding:0},children:Object(T.jsxs)(d.a,{children:[Object(T.jsx)(u.a,{span:2,children:c?Object(T.jsx)(A.a,{className:"bs-trigger",onClick:W}):Object(T.jsx)(L.a,{onClick:W,className:"bs-trigger"})}),Object(T.jsx)(u.a,{span:14,children:e.title&&Object(T.jsx)("span",{style:{fontSize:20,fontWeight:"lighter",color:"#6e7273"},children:e.title})}),Object(T.jsx)(u.a,{span:8,children:Object(T.jsx)("div",{style:{float:"right",marginRight:10,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",height:"100%"},children:Object(T.jsx)(p.a.Button,{overlay:X,placement:"bottomLeft",icon:Object(T.jsx)(D.a,{}),children:z.fullName})})})]})}),Object(T.jsxs)(G,{className:"bs-site-layout-content",style:{minHeight:380},children:[e.subNav&&Object(T.jsx)(d.a,{className:"bs-sub-nav-header",children:Object(T.jsx)(u.a,{span:24,children:e.subNav})}),Object(T.jsx)(d.a,{children:Object(T.jsx)(u.a,{span:24,style:{padding:10},children:e.children})})]}),Object(T.jsx)(Q,{style:{textAlign:"center"},children:"Blueskies Procurement System \xa9".concat((new Date).getFullYear()," Created by Tech-Bridge")})]})]})},F=n(63);t.a=Object(a.b)((function(e){return{currentUser:e.auth.user,notifications:e.notification.notifications||{}}}),(function(e){return{fetchNotifications:function(){return e(F.a.fetchNotifications())}}}))((function(e){return Object(T.jsx)(S,Object(c.a)({},e))}))},537:function(e,t,n){"use strict";var c=n(1705),a=(n(2),n(18));t.a=function(e){var t=e.count,n=e.status,r=void 0===n?"processing":n,s=e.children;return Object(a.jsx)(c.a,{offset:"5px",count:t,status:r,children:s})}},547:function(e,t,n){}}]);
//# sourceMappingURL=27.9b10b788.chunk.js.map